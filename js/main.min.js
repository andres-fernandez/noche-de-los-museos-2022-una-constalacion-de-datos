var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.createTemplateTagFirstArg=function(a){return a.raw=a};$jscomp.createTemplateTagFirstArgWithRaw=function(a,b){a.raw=b;return a};
function showFullDataviz(){d3.selectAll("#dataviz-render-dots circle").attr("fill-opacity",1).attr("stroke","none").attr("stroke-width",0).attr("stroke-opacity",0).attr("pointer-events",null);d3.selectAll("#dataviz-render-lines g").attr("opacity",1);d3.select("#dataviz-icons-mask").attr("class",null);d3.select(".show-isolated-museum").attr("class",null);var a=document.querySelector(".filter-data-selected");a&&a.classList.remove("filter-data-selected")}
function filterByProperty(a){var b=a.target.classList[0];if(b){b=b.split("-")[2];if(a.target.classList.contains("filter-data-selected"))return showFullDataviz();showFullDataviz();"null"!=b&&(a.target.classList.add("filter-data-selected"),a="#dataviz-render-lines g:not(#"+b+"-line)",d3.selectAll('#dataviz-render-dots circle:not([data-key="'+b+'"])').attr("fill-opacity",0).attr("stroke","#fff").attr("stroke-width",.5).attr("stroke-opacity",.3).attr("pointer-events","none"),d3.selectAll(a).attr("opacity",
0))}}
function filterByMuseum(a){if(a.target.matches("[data-svg-icon-mask]")){if(a.target.classList.contains("show-isolated-museum"))return showFullDataviz();showFullDataviz();d3.select("#dataviz-icons-mask").attr("class","isolated-mode");a.target.classList.add("show-isolated-museum");d3.selectAll('#dataviz-render-dots g:not([data-museum="'+a.target.dataset.svgIconMask+'"]) circle').attr("fill-opacity","0").attr("pointer-events","none");d3.selectAll("#dataviz-render-lines g").attr("opacity","0")}}
function sanitizeStringToID(a){return a.toLowerCase().split(" ").join("-").normalize("NFKD").replace(/[\u0300-\u036f]/g,"")}
function downloadSVG(a){if(a.target.matches(".download-as-svg")){var b=document.getElementById("dataviz-museos").innerHTML,c=(new Date).toLocaleString("sv-SE").replace(" ","__").replace(":","y").slice(0,-3);a=a.target.previousElementSibling.dataset.dataviz||"Dataviz by Andres - "+c+".svg";c=document.createElement("a");c.setAttribute("download",a);c.setAttribute("href","data: image/svg+xml, "+encodeURIComponent(b));c.click()}}document.body.addEventListener("click",downloadSVG);
document.getElementById("filter-data-container").addEventListener("click",filterByProperty);document.getElementById("dataviz-icons-mask").addEventListener("click",filterByMuseum);
